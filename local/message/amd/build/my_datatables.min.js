define("local_message/my_datatables",["exports","jquery","core/ajax","local_message/datatables"],(function(_exports,_jquery,_ajax,_datatables){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * TODO describe module my_datatables
   *
   * @module     local_message/my_datatables
   * @copyright  2024 LMSCloud.io
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_jquery=_interopRequireDefault(_jquery),_ajax=_interopRequireDefault(_ajax);const selectors_actions={star:'[data-action="star"]'};_exports.init=()=>{(0,_jquery.default)((function(){(0,_jquery.default)("#viewmsgtable").DataTable({bLengthChange:!1,ordering:!1})})),document.addEventListener("click",(e=>{let starred=e.target.closest(selectors_actions.star);if(starred){var isfav="true"===starred.getAttribute("data-favorited"),id=starred.getAttribute("data-id"),params={};isfav?(params.fav=!1,params.id=id):(params.fav=!0,params.id=id),_ajax.default.call([{methodname:"local_message_favourites",args:params}])[0].done((function(){window.location.reload(!0)})).fail((function(){}))}}))}}));

//# sourceMappingURL=my_datatables.min.js.map