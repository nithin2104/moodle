{"version":3,"file":"morerecords.min.js","sources":["../src/morerecords.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * TODO describe module morerecords\n *\n * @module     block_courseinfo/morerecords\n * @copyright  2024 LMSCloud.io\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\nimport $ from 'jquery';\n\nvar trs = $(\"#courseinfotable tbody tr\");\nvar trs2 = $(\"#courseinfotable2 tbody tr\");\n\nvar btnMore = $(\"#seeMoreRecords\");\nvar btnMore2 = $(\"#seeMoreRecords2\");\nvar btnLess = $(\"#seeLessRecords\");\nvar btnLess2 = $(\"#seeLessRecords2\");\nvar trsLength = trs.length;\nvar trsLength2 = trs2.length;\n// alert(trsLength);\n// alert(trsLength2);\nvar currentIndex = 1;\nvar currentIndex2 = 1;\n\ntrs.hide();\ntrs.slice(0, 1).show();\ncheckButton();\ntrs2.hide();\ntrs2.slice(0, 1).show();\ncheckButton2();\n\nbtnMore.on('click', function(e) {\n    e.preventDefault();\n    $(\"#courseinfotable tbody tr\").slice(currentIndex, currentIndex + 1).show();\n    currentIndex += 1;\n    checkButton();\n});\nbtnMore2.on('click', function(e) {\n    e.preventDefault();\n    $(\"#courseinfotable2 tbody tr\").slice(currentIndex2, currentIndex2 + 1).show();\n    currentIndex2 += 1;\n    checkButton2();\n});\n\nbtnLess.on('click', function(e) {\n    e.preventDefault();\n    $(\"#courseinfotable tbody tr\").slice(currentIndex - 1, currentIndex).hide();\n    currentIndex -= 1;\n    checkButton();\n});\nbtnLess2.on('click', function(e) {\n    e.preventDefault();\n    $(\"#courseinfotable2 tbody tr\").slice(currentIndex2 - 1, currentIndex2).hide();\n    currentIndex2 -= 1;\n    checkButton2();\n});\n\n/**\n * Checking which buttons to show according to tr length.\n */\nfunction checkButton() {\n    var currentLength = $(\"#courseinfotable tbody tr:visible\").length;\n\n    if (currentLength >= trsLength) {\n        btnMore.hide();\n    } else {\n        btnMore.show();\n    }\n\n    if (trsLength > 1 && currentLength > 1) {\n        btnLess.show();\n    } else {\n        btnLess.hide();\n    }\n\n}\n/**\n * Checking which buttons to show according to tr length.\n */\nfunction checkButton2() {\n    var currentLength = $(\"#courseinfotable2 tbody tr:visible\").length;\n\n    if (currentLength >= trsLength2) {\n        btnMore2.hide();\n    } else {\n        btnMore2.show();\n    }\n\n    if (trsLength2 > 1 && currentLength > 1) {\n        btnLess2.show();\n    } else {\n        btnLess2.hide();\n    }\n\n}"],"names":["obj","trs","_jquery","__esModule","default","trs2","$","btnMore","btnMore2","btnLess","btnLess2","trsLength","length","trsLength2","currentIndex","currentIndex2","checkButton","currentLength","hide","show","checkButton2","slice","on","e","preventDefault"],"mappings":"oEAsBuB,IAAAA;;;;;;;KAEvB,IAAIC,KAAM,GAFVC,SAAuBF,IAAvBE,UAAuBF,IAAAG,WAAAH,KAAAI,QAAAJ,eAEX,6BACRK,MAAO,EAAAC,iBAAE,8BAETC,SAAU,EAAAD,iBAAE,mBACZE,UAAW,EAAAF,iBAAE,oBACbG,SAAU,EAAAH,iBAAE,mBACZI,UAAW,EAAAJ,iBAAE,oBACbK,UAAYV,IAAIW,OAChBC,WAAaR,KAAKO,OAGlBE,aAAe,EACfC,cAAgB,EAsCpB,SAASC,cACL,IAAIC,eAAgB,EAAAX,iBAAE,qCAAqCM,OAEvDK,eAAiBN,UACjBJ,QAAQW,OAERX,QAAQY,OAGRR,UAAY,GAAKM,cAAgB,EACjCR,QAAQU,OAERV,QAAQS,OAOhB,SAASE,eACL,IAAIH,eAAgB,EAAAX,iBAAE,sCAAsCM,OAExDK,eAAiBJ,WACjBL,SAASU,OAETV,SAASW,OAGTN,WAAa,GAAKI,cAAgB,EAClCP,SAASS,OAETT,SAASQ,OAnEjBjB,IAAIiB,OACJjB,IAAIoB,MAAM,EAAG,GAAGF,OAChBH,cACAX,KAAKa,OACLb,KAAKgB,MAAM,EAAG,GAAGF,OACjBC,eAEAb,QAAQe,GAAG,SAAS,SAASC,GACzBA,EAAEC,kBACF,EAAAlB,iBAAE,6BAA6Be,MAAMP,aAAcA,aAAe,GAAGK,OACrEL,cAAgB,EAChBE,iBAEJR,SAASc,GAAG,SAAS,SAASC,GAC1BA,EAAEC,kBACF,EAAAlB,iBAAE,8BAA8Be,MAAMN,cAAeA,cAAgB,GAAGI,OACxEJ,eAAiB,EACjBK,kBAGJX,QAAQa,GAAG,SAAS,SAASC,GACzBA,EAAEC,kBACF,EAAAlB,iBAAE,6BAA6Be,MAAMP,aAAe,EAAGA,cAAcI,OACrEJ,cAAgB,EAChBE,iBAEJN,SAASY,GAAG,SAAS,SAASC,GAC1BA,EAAEC,kBACF,EAAAlB,iBAAE,8BAA8Be,MAAMN,cAAgB,EAAGA,eAAeG,OACxEH,eAAiB,EACjBK,iBAwCH"}