{{!
This file is part of Moodle - http://moodle.org/

Moodle is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

Moodle is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with Moodle. If not, see
<http: //www.gnu.org/licenses />.
}}
{{!
@template core/loginform

TODO describe template loginform

Example context (json):
{
}
}}

<div class="d-flex loginform">
    <div class="d-flex flex-column mr-5">
        <div id="loginlogo" class="login-logo">
            <img id="logoimage" src="/moodle/theme/logintheme/pix/moodle.png" class="img-fluid" alt="{{ sitename }}"
                style="height: 8rem; width: 16rem" />
            <h1 class="login-heading sr-only">
                {{#str}} loginto, core, {{ sitename }} {{/str}}
            </h1>
        </div>
        <div>
            {{#hasidentityproviders}}
            <div class="login-divider"></div>
            <div class="login-identityproviders">
                <h6 class="login-heading">{{#str}} potentialidps, auth {{/str}}</h6>
                {{#identityproviders}}
                <a class="btn login-identityprovider-btn btn-block" href="{{ url }}">
                    {{#iconurl}}
                    <img src="{{ iconurl }}" alt="" width="24" height="24" />
                    {{/iconurl}}
                    {{ name }}
                </a>
                {{/identityproviders}}
            </div>
            {{/hasidentityproviders}}
            {{#hasinstructions}}
            <div class="login-divider"></div>
            <div class="login-instructions {{#cansignup}}mb-3{{/cansignup}}">
                <h6 class="login-heading">{{#str}}firsttime{{/str}}</h6>
                <small>{{{instructions}}}</small>
            </div>
            {{/hasinstructions}}
            {{#cansignup}}
            <div class="login-signup">
                <a class="btn btn-secondary" href="{{ signupurl }}">{{#str}}startsignup{{/str}}</a>
            </div>
            {{/cansignup}}
            {{#canloginasguest}}
            <div class="login-divider"></div>
            <h6 class="login-heading">{{#str}}someallowguest{{/str}}</h6>
            <form action="{{ loginurl }}" method="post" id="guestlogin">
                <input type="hidden" name="logintoken" value="{{ logintoken }}" />
                <input type="hidden" name="username" value="guest" />
                <input type="hidden" name="password" value="guest" />
                <button class="btn btn-secondary" type="submit" id="loginguestbtn">
                    {{#str}}loginguest{{/str}}
                </button>
            </form>
            {{/canloginasguest}}
        </div>
    </div>
    <div>
        <h1 class="login-heading mb-4">{{#str}} login, theme_logintheme{{/str}}</h1>
        {{#error}}
        <a href="#" id="loginerrormessage" class="sr-only">{{ error }}</a>
        <div class="alert alert-danger" role="alert">{{ error }}</div>
        {{/error}}

        <form class="login-form" action="{{ loginurl }}" method="post" id="login">
            <input id="anchor" type="hidden" name="anchor" value="" />
            <script>
                document.getElementById("anchor").value = location.hash;
            </script>
            <input type="hidden" name="logintoken" value="{{ logintoken }}" />
            <div class="login-form-username form-group">
                <label for="username" class="sr-only">
                    {{^canloginbyemail}}
                    {{#str}} username {{/str}}
                    {{/canloginbyemail}}
                    {{#canloginbyemail}}
                    {{#str}} usernameemail {{/str}}
                    {{/canloginbyemail}}
                </label>
                <input type="text" name="username" id="username" {{! !}}class="form-control form-control-lg" {{!
                    !}}value="{{ username }}" {{!
                    !}}placeholder="{{^canloginbyemail}}{{#cleanstr}}username{{/cleanstr}}{{/canloginbyemail}}{{! !}}{{#canloginbyemail}}{{#cleanstr}}usernameemail{{/cleanstr}}{{/canloginbyemail}}"
                    {{! !}}autocomplete="username" />
            </div>
            <div class="login-form-password form-group">
                <label for="password" class="sr-only">{{#str}} password {{/str}}</label>
                <input type="password" name="password" id="password" value="" {{!
                    !}}class="form-control form-control-lg" {{! !}}placeholder="{{#cleanstr}}password{{/cleanstr}}" {{!
                    !}}autocomplete="current-password" />
            </div>
            <div class="login-form-submit form-group">
                <button class="btn btn-primary btn-lg" type="submit" id="loginbtn">
                    {{#str}}login{{/str}}
                </button>
            </div>
            <div class="login-form-forgotpassword form-group">
                <a href="{{ forgotpasswordurl }}">{{#str}}forgotaccount{{/str}}</a>
            </div>
        </form>
        <div class="login-divider"></div>
        <div class="d-flex flex-column">
            {{#languagemenu}}
            <div class="login-languagemenu">
                {{>core/action_menu}}
            </div>
            <div class="login-divider my-1"></div>
            {{/languagemenu}}
            <button type="button" class="btn btn-link" {{! }} data-modal="alert" {{! }}
                data-modal-title-str='["cookiesenabled", "core"]' {{! }}
                data-modal-content-str='["cookiesenabled_help_html", "core"]' {{! }}>
                {{#str}}cookiesnotice{{/str}}
            </button>
        </div>
    </div>
</div>

{{#js}}
{{^error}}
{{#autofocusform}}
var userNameField = document.getElementById('username'); if
(userNameField.value.length == 0) { userNameField.focus(); } else {
document.getElementById('password').focus(); }
{{/autofocusform}}
{{/error}}
{{#error}}
document.getElementById('loginerrormessage').focus();
{{/error}}
require(['core_form/submit'], function(Submit) { Submit.init("loginbtn");
{{#canloginasguest}}
Submit.init("loginguestbtn");
{{/canloginasguest}}
});
{{/js}}